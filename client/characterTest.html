<html>
	<head>
		
		<link type="text/css" href="css/ui-lightness/jquery-ui-1.8.21.custom.css" rel="stylesheet" />

		<style type="text/css">
			
			.userlogin-label { width: 5em; display: inline-block; }
			
		</style>


		<script src="js/jquery-1.7.2.min.js"></script>
		<script src="js/jquery-ui-1.8.21.custom.min.js"></script>
		
		<script type="text/javascript">
			
			var serviceUrl = "http://localhost/TextBasedGame/service/";
			
			
			
			$(function(){
						
				$("#loginDialog").dialog({
					width: 400,
					buttons: {
						"OK": function() {
							$.ajax({
								url: serviceUrl + "login.php",
								type: "POST",
								dataType: "json",
								data: {username: $("#username").val(), password: $("#password").val()},
								success: function(obj){
									$.each(obj, function(){
										if(this['loginSuccessful'] == 1)
										{
											alert("Login Successful");	
										}	
										else
										{
											alert("Login Failed");
										}								
									});
									$(this).dialog("close");										
								},
								error: function(xhr,status, err){
									alert("something done fucked up");								
								}
							});
							$(this).dialog("close");
						},
						"Cancel": function(){
							$(this).dialog("close");
						}
					}
				});	
			
			});
			
		</script>
		
	</head>
	<body>
		<div id="loginDialog">
			<form>
				<label class="characterid-label" for="characterid">Username:</label>
				<input type="text" name="characterid" id="characterid"/><br />
			</form>
		</div>
		
	</body>
</html>